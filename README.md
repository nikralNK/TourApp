# ShelterApp - Приложение для управления приютом животных

Десктопное приложение для управления приютом животных, разработанное на WPF (.NET Framework 4.7.2) с использованием PostgreSQL.

## Требования

- Windows OS
- .NET Framework 4.7.2 или выше
- PostgreSQL 12 или выше
- Visual Studio 2019/2022 (для разработки)

## Структура проекта

Проект следует стандартам WorldSkills:

```
ShelterAppProduction/
├── Database/               # SQL скрипты и DatabaseHelper
├── Models/                 # Модели данных
├── Pages/                  # Страницы приложения
├── Repositories/           # Репозитории для работы с БД
├── Services/              # Сервисы (Auth, Session)
├── Manager.cs             # Менеджер навигации
├── App.xaml              # Глобальные стили
├── LoginWindow.xaml      # Окно авторизации
└── MainWindow.xaml       # Главное окно с Frame

```

## Установка и настройка

### 1. Установка PostgreSQL

1. Установите PostgreSQL
2. Создайте базу данных `shelter_db`
3. Создайте пользователя `postgres` с паролем `postgres`

### 2. Инициализация базы данных

Выполните SQL скрипты в следующем порядке:

```sql
psql -U postgres -d shelter_db -f ShelterAppProduction/Database/create_tables.sql
psql -U postgres -d shelter_db -f ShelterAppProduction/Database/insert_test_data.sql
```

### 3. Установка проекта

1. Откройте `TourApp.sln` в Visual Studio
2. Восстановите NuGet пакеты:
   - Правой кнопкой на Solution → "Restore NuGet Packages"
3. Соберите проект: Build → Build Solution

### 4. Запуск приложения

1. Нажмите F5 или Start Debugging
2. Используйте тестовые учетные данные:
   - Администратор: `admin` / `admin`
   - Пользователь: `user1` / `user1`

## Функциональность

### Для всех пользователей:
- Просмотр каталога животных
- Фильтрация по типу, полу, размеру
- Просмотр детальной информации о животном
- Подача заявок на опекунство
- Добавление животных в избранное
- Управление профилем
- Смена пароля

### Для администраторов:
- Просмотр всех заявок на опекунство
- Одобрение/отклонение заявок
- Управление статусами заявок

## База данных

### Таблицы:
- `Users` - пользователи системы
- `Animal` - животные в приюте
- `Guardian` - опекуны
- `Application` - заявки на опекунство
- `Favorite` - избранные животные
- `Enclosure` - вольеры
- `Veterinarian` - ветеринары
- `Medical_Record` - медицинские записи
- `Shelter_Employee` - сотрудники приюта

## Технологии

- **Frontend**: WPF (XAML)
- **Backend**: C# .NET Framework 4.7.2
- **Database**: PostgreSQL 12+
- **ORM**: Npgsql 4.1.14 (ADO.NET)
- **Security**: BCrypt.Net-Next 4.0.2

## Дизайн

Минималистичный дизайн с использованием:
- Цветовая схема: зеленый (#4A7C59) и бежевый (#F5F5DC)
- Скругленные углы (border-radius: 10-15px)
- Тени для карточек
- Адаптивная навигация

## Навигация

Приложение использует паттерн навигации WorldSkills:
- Frame с `NavigationUIVisibility="Hidden"`
- Статический класс Manager для управления навигацией
- Page-based архитектура

## Разработка

### Добавление новой страницы:

1. Создайте XAML файл в папке `Pages/`
2. Создайте соответствующий `.xaml.cs` файл
3. Добавьте файлы в `.csproj`
4. Используйте `Manager.MainFrame.Navigate(new YourPage())` для навигации

### Работа с базой данных:

1. Создайте модель в `Models/`
2. Создайте репозиторий в `Repositories/`
3. Используйте `DatabaseHelper.GetConnection()` для подключения
4. Используйте параметризованные запросы для безопасности

## Безопасность

- Пароли хешируются с использованием BCrypt
- Параметризованные SQL запросы для защиты от SQL-инъекций
- Проверка прав доступа для админ-панели
- Валидация входных данных

## Лицензия

Учебный проект
